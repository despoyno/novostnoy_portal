<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
    <title>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
</head>
<body>
    <!-- –•–µ–¥–µ—Ä -->
    <header class="admin-header">
        <div class="header-content">
            <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
            <nav class="admin-nav">
                <a href="{{ url_for('news') }}" class="nav-link">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
                <a href="{{ url_for('add_news') }}" class="nav-link">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
            </nav>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
        <section class="content-section user-info">
            <h2>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è üë§</h2>
            <p><strong>–õ–æ–≥–∏–Ω:</strong> {{ username }}</p>
            <p><strong>–§–ò–û:</strong> {{ full_name }}</p>
            <p><strong>Email:</strong> {{ email }}</p>
            <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> {{ registration_date }}</p>
            <p><strong>–ö–æ–¥ –¥–ª—è —Ç–≥ –±–æ—Ç–∞:</strong>{{ uniquecode }}</p>
        </section>

        <!-- –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ -->
        <section class="content-section saved-news">
            <h2>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ üìö</h2>

            {% if liked_news %}
                <button class="copy-links-btn" id="copy-links-btn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏</button>
                <div id="news-links-container">
                    {% for news in liked_news %}
                        <div class="news-item">
                            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏ –∫–∞–∫ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∞ -->
                            <a href="{{ news.link }}" target="_blank">{{ news.title }}</a> 
                            <em>({{ news.published_at[:10] }})</em>
                        </div>
                    {% endfor %}
                </div>
                <p class="meta">–í—Å–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: {{ liked_news|length }} –Ω–æ–≤–æ—Å—Ç–∏</p>
            {% else %}
                <p>–í—ã –ø–æ–∫–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏.</p>
            {% endif %}
        </section>

        <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å 
        <section class="content-section security">
            <h2>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å üîí</h2>
            <button class="button danger-btn" id="change-password-btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </section>
    </div> -->

    <!-- JavaScript –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyButton = document.getElementById('copy-links-btn');
            const newsLinksContainer = document.getElementById('news-links-container');

            copyButton.addEventListener('click', () => {
                // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
                const links = Array.from(newsLinksContainer.querySelectorAll('.news-item a'))
                    .map(link => link.href)
                    .join('\n'); // –†–∞–∑–¥–µ–ª—è–µ–º —Å—Å—ã–ª–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å—Ç—Ä–æ–∫–∏

                // –ö–æ–ø–∏—Ä—É–µ–º —Å—Å—ã–ª–∫–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                navigator.clipboard.writeText(links).then(() => {
                    alert('–°—Å—ã–ª–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                }).catch((error) => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–æ–∫:', error);
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏.');
                });
            });
        });
    </script>
</body>
</html>